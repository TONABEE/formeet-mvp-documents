## 要件定義書

### **1. プロジェクト概要**

### **プロジェクト名**

「Formeet（フォーミート）」- 認知特性対応型ライフマネジメントアプリ

### **プロジェクトビジョン**

認知特性により「当たり前」ができない若者が、自分の特性を理解し、適切な支援を受けながら継続的に働けるようになるためのプラットフォーム

### **MVP版スコープ**

- タスク・スケジュール統合管理
- 時間帯別ルーティンモード
- プロジェクト別色分け管理
- 位置情報ベース移動時間算出
- デイリープランニング機能

### **2. 背景と目的**

### **社会課題**

- **対象者数**：「ギリ健」層を含む認知特性保有者は人口の約7-10%
- **経済損失**：短期離職による企業の採用コスト年間数千億円
- **当事者の困難**：平均3-4ヶ月での離職、月収13万円の経済的困窮

### **解決アプローチ**

```
認知特性の可視化
↓
具体的な改善方法の提供
↓
成功体験の蓄積
↓
適職マッチング（将来）

```

### **3. ターゲットユーザー**

### **プライマリーユーザー**

|属性|詳細|
|---|---|
|年齢|20-30代|
|状況|アルバイト・非正規雇用、転職を繰り返している|
|困り事|時間管理、タスク優先順位、コミュニケーション|
|支払い能力|月額500-1,000円|

### **セカンダリーユーザー（将来）**

- 企業の人事部門
- 就労支援機関
- 家族・支援者

### **4. 機能要件詳細**

### **4.1 ルーティンモード機能**

|機能|詳細|優先度|
|---|---|---|
|時間帯自動切替|起床前後1時間、就寝前後1時間で自動切替|必須|
|ルーティンタスク専用表示|他のタスクを非表示にし、ルーティンのみ表示|必須|
|起床・就寝記録|朝TODO開始=起床、夜TODO完了=就寝として自動記録|必須|
|大型UI|チェックボックス40×40px、フォント24px|必須|

### **4.2 デイリープランニング機能**

|機能|詳細|優先度|
|---|---|---|
|朝の強制フロー|8:00-10:00の初回起動時に強制表示|必須|
|ドラッグ&ドロップ|タスクをスケジュールに配置|必須|
|AI自動配置|優先度・時間帯を考慮した最適配置|重要|
|配置必須化|全タスク配置まで先に進めない|必須|

### **4.3 タスク管理機能**

|機能|詳細|優先度|
|---|---|---|
|プロジェクト色分け|10色から選択、タスクに自動適用|必須|
|Notionライクビュー|テーブル/カンバン/カレンダー|必須|
|フィルター機能|今日/プロジェクト/優先度で絞込|必須|
|優先順位自動評価|期限>短時間>重要度で自動計算|重要|

### **4.4 スケジュール管理機能**

|機能|詳細|優先度|
|---|---|---|
|統合カレンダー|予定・移動・タスク・睡眠を統合表示|必須|
|移動時間自動算出|Google Maps APIで自動計算|必須|
|場所タイプ対応|対面（住所）/オンライン（URL）/ハイブリッド|必須|
|GPS追跡|実際の移動時間を記録・学習|重要|

### **5. 非機能要件**

### **パフォーマンス要件**

|項目|要件|
|---|---|
|アプリ起動時間|3秒以内|
|画面遷移|0.5秒以内|
|データ同期|リアルタイム（オフライン対応）|
|バッテリー消費|GPS使用時も8時間以上|

### **セキュリティ要件**

|項目|要件|
|---|---|
|認証|OAuth2.0（Google/Apple）|
|データ暗号化|AES-256|
|位置情報|使用時のみ取得、暗号化保存|
|GDPR対応|データ削除権、エクスポート機能|

### **ユーザビリティ要件**

|項目|要件|
|---|---|
|操作性|ワンタップ/ドラッグ中心|
|文字サイズ|最小14px、調整可能|
|カラーコントラスト|WCAG AA準拠|
|エラー処理|分かりやすいメッセージ、リカバリー方法提示|

### **6. データ設計**

### **ER図**

```sql
-- ユーザーテーブル
users {
  id: UUID PRIMARY KEY
  email: VARCHAR
  wake_time: TIME
  bed_time: TIME
  home_location: POINT
  work_location: POINT
}

-- プロジェクトテーブル
projects {
  id: UUID PRIMARY KEY
  user_id: UUID FOREIGN KEY
  name: VARCHAR
  color: VARCHAR(7)  -- HEXカラー
  icon: VARCHAR
  is_active: BOOLEAN
}

-- タスクテーブル
tasks {
  id: UUID PRIMARY KEY
  user_id: UUID FOREIGN KEY
  project_id: UUID FOREIGN KEY
  title: VARCHAR
  priority: INTEGER (1-3)
  estimated_minutes: INTEGER
  actual_minutes: INTEGER
  scheduled_date: DATE
  scheduled_start: TIMESTAMP
  status: ENUM
  is_routine: BOOLEAN
  routine_type: ENUM ('morning', 'night')
}

-- 予定テーブル
appointments {
  id: UUID PRIMARY KEY
  user_id: UUID FOREIGN KEY
  title: VARCHAR
  start_time: TIMESTAMP
  end_time: TIMESTAMP
  location_type: ENUM ('f2f', 'online', 'hybrid')
  address: VARCHAR
  latitude: DECIMAL
  longitude: DECIMAL
  meeting_url: VARCHAR
}

-- 移動記録テーブル
travel_logs {
  id: UUID PRIMARY KEY
  appointment_id: UUID FOREIGN KEY
  planned_departure: TIMESTAMP
  actual_departure: TIMESTAMP
  planned_arrival: TIMESTAMP
  actual_arrival: TIMESTAMP
  planned_duration: INTEGER
  actual_duration: INTEGER
}

-- 睡眠記録テーブル
sleep_logs {
  id: UUID PRIMARY KEY
  user_id: UUID FOREIGN KEY
  date: DATE
  bedtime: TIMESTAMP  -- 夜TODO完了時刻
  wake_time: TIMESTAMP -- 朝TODO開始時刻
  duration: INTEGER
}

```

### **7. システムアーキテクチャ**

### **技術スタック**

|レイヤー|技術|理由|
|---|---|---|
|フロントエンド|React Native|iOS/Android両対応|
|状態管理|Redux Toolkit|複雑な状態管理に対応|
|バックエンド|Node.js + Express|リアルタイム処理|
|データベース|PostgreSQL + Redis|地理データ対応、キャッシュ|
|認証|Firebase Auth|簡単実装、セキュア|
|位置情報|React Native Maps|Google Maps連携|

### **API設計**

```yaml
endpoints:
  # タスク関連
  - POST /api/tasks
  - GET /api/tasks?date={date}&project={id}
  - PUT /api/tasks/:id
  - DELETE /api/tasks/:id

  # スケジュール関連
  - GET /api/schedule/:date
  - POST /api/appointments
  - POST /api/travel/calculate

  # ルーティン関連
  - GET /api/routines/:type
  - POST /api/routines/complete

  # 分析関連
  - GET /api/analytics/daily/:date
  - GET /api/analytics/patterns

```

### **8. 外部サービス連携**

|サービス|用途|必須/オプション|
|---|---|---|
|Google Maps API|住所検索、経路計算、移動時間算出|必須|
|Google Calendar API|既存予定のインポート|オプション|
|Firebase|認証、プッシュ通知、Crashlytics|必須|
|Sentry|エラートラッキング|重要|

### **9. 開発フェーズ**

### **Phase 1（MVP: 2ヶ月）**

- 基本機能実装
- ルーティンモード
- デイリープランニング
- プロジェクト色分け
- 移動時間算出

### **Phase 2（1ヶ月）**

- GPS追跡
- AI自動配置
- 詳細分析機能

### **Phase 3（1ヶ月）**

- 企業向け機能準備
- API公開
- 管理画面

### **10. テスト計画**

|テスト種別|内容|完了基準|
|---|---|---|
|単体テスト|各機能の動作確認|カバレッジ80%以上|
|結合テスト|機能間連携確認|全シナリオPASS|
|GPS動作テスト|実地での位置情報精度|誤差50m以内|
|負荷テスト|1000人同時アクセス|レスポンス3秒以内|
|ユーザビリティテスト|当事者10名での検証|タスク完遂率90%以上|

### **11. 成功指標（KPI）**

### **MVP版（3ヶ月後）**

|指標|目標値|
|---|---|
|MAU|1,000人|
|継続率（30日）|60%|
|デイリープランニング実施率|70%|
|タスク完了率向上|+30%|

### **事業指標（1年後）**

|指標|目標値|
|---|---|
|有料会員数|5,000人|
|ARPU|800円|
|NPS|50以上|
|就労継続率|3ヶ月以上50%|

### **12. リスクと対策**

|リスク|影響度|対策|
|---|---|---|
|GPS精度の問題|高|WiFi/Bluetooth併用、手動修正機能|
|習慣化の失敗|高|ゲーミフィケーション、プッシュ通知最適化|
|認知負荷過多|中|UIのさらなる簡素化、チュートリアル強化|

### **13. 納品物**

### **開発会社への提供物**

1. 本要件定義書（PDF）
2. Figmaデザインファイル（編集権限付き）
3. データ設計図（ER図、テーブル定義）
4. API仕様書（Swagger形式）
5. ユーザーフロー図
6. ワイヤーフレーム（全画面）

### **コミュニケーション**

- 週次定例会議
- Slackでの日次進捗共有
- GitHubでのソース管理
- Jiraでのタスク管理

---